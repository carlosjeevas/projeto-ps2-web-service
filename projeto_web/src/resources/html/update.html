    <!DOCTYPE html>

    <html>

    <head>
        <title>Professores (update)</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="/site/sakura.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    </head>

    <body>
        <p><a href="/site">&lt; Voltar para página inicial</a></p>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
 
    <title>Modal em Bootstrap | HomeHost</title>
  </head>
  <body>
    <!-- Botão que irá abrir o modal -->
    <button type="button" class="btn btn-success btn-lg mt-2 ml-2" data-toggle="modal" data-target="#meuModal">Abrir Modal</button>
 
    <!-- Modal -->
    <div id="meuModal" class="modal fade" role="dialog">
      <div class="modal-dialog">
 
        <!-- Conteúdo do modal-->
        <div class="modal-content">
 
          <!-- Cabeçalho do modal -->
          <div class="modal-header">
            <h4 class="modal-title">Título do modal</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
 
          <!-- Corpo do modal -->
          <div class="modal-body">
            <h1>Atualizar professor</h1>

        <table>    
            <tr>
            </tr>
                <td>ID:</td>
                <td id="idCampeonato"></td>
            <tr>
                <td>Nome:</td>
                <td><input type="text" id="txtNome"></td>
            </tr>
            <tr><td></td><td><input type="button" onclick="atualizarCampeonato()" value="Salvar"></td></tr>
        </table>
          </div>
 
          <!-- Rodapé do modal-->
          <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-dismiss="modal">Fechar</button>
            <button type="button" class="btn btn-primary">Salvar Alterações</button>
          </div>
 
        </div>
      </div>
    </div>
        
        <h1>Atualizar professor</h1>

        <table>    
            <tr>
            </tr>
                <td>ID:</td>
                <td id="idCampeonato"></td>
            <tr>
                <td>Nome:</td>
                <td><input type="text" id="txtNome"></td>
            </tr>
            <tr><td></td><td><input type="button" onclick="atualizarCampeonato()" value="Salvar"></td></tr>
        </table>

        <p style="font-weight:bold" id="mensagem"></p>
        
        <table>    
            <tr>
                <th>ID</th>
                <th>Nome</th>
            </tr>
            <tbody id="campeonatos">
            </tbody>
        </table>

    <script>
        const corpoTabela = document.querySelector('#campeonatos');
        const paragrafoMensagem = document.querySelector('#mensagem');
        const textoNome = document.querySelector('#txtNome');
        const celulaID = document.querySelector('#idCampeonato');
        
        function inicializar() {
            paragrafoMensagem.innerHTML = 'Selecione um campeonato:'
            celulaID.innerHTML = '';
            textoNome.value = '';
            listarTodosCampeonatos();            
        }
        
        function selecionarCampeonato(id, nome) {
            paragrafoMensagem.innerHTML = 'Altere os dados do campeonato e pressione o botão Salvar.'
            celulaID.innerHTML = id;
            textoNome.value = nome;
        }

        async function atualizarCampeonato() {
            if (celulaID.innerHTML == '') return;
            const ID = celulaID.innerHTML;
            const URL = `/api/campeonatos/${ID}`;
            const dadosCampeonato = {
                                       'id': ID,
                                       'nome': textoNome.value
                                   };
            const putRequest =    {
                                        method:'PUT',
                                        body: JSON.stringify(dadosCampeonato),
                                        headers: { 'Content-type': 'application/json;charset=UTF-8' }
                                   };
            try {
                fetch(URL, putRequest).then(resposta => resposta.json()).then(jsonResponse => inicializar());
            } catch (e) {
                corpoTabela.innerHTML = e;
            }
        }
        
        function preencherTabela(campeonatos) {
            var linhasTabela = '';
            var n = campeonatos.length;
            for (var i = 0; i < n; i++) {
                var campeonato = campeonatos[i];
                linhasTabela += `<tr><td><a href="javascript:void(0)" onclick="selecionarCampeonato('${campeonato.id}','${campeonato.nome}')">` + campeonato.id     + '</a></td>' + 
                                    '<td>' + campeonato.nome   + '</td></tr>\n';
            }
            corpoTabela.innerHTML = linhasTabela;
        }

        async function listarTodosCampeonatos() {
          const URL = `/api/campeonatos`;
          try {
            fetch(URL).then(resposta => resposta.json()).then(jsonResponse => preencherTabela(jsonResponse));
          } catch (e) {
            corpoTabela.innerHTML = e;
          }
        }

        inicializar();

    </script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    </body>

    </html>